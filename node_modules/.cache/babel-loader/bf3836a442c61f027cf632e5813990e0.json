{"ast":null,"code":"var _jsxFileName = \"/Users/yoonhwajeong/Documents/codingtemple/react/react-phonebook/react-phonebook-codealong/src/components/DataTable/DataTable.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { useGetData } from '../../custom-hooks';\nimport { server_calls } from '../../api';\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport { ContactForm } from '../ContactForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  field: 'id',\n  headerName: 'ID',\n  width: 90,\n  hide: true\n}, {\n  field: 'name',\n  headerName: 'Contact Name',\n  flex: 1\n}, {\n  field: 'email',\n  headerName: 'Email',\n  flex: 1\n}, {\n  field: 'phone_number',\n  headerName: 'Phone Number',\n  flex: 1\n}, {\n  field: 'address',\n  headerName: 'Address',\n  flex: 2\n}];\nexport const DataTable = () => {\n  _s();\n\n  let {\n    contactData,\n    getData\n  } = useGetData();\n  let [open, setOpen] = useState(false);\n  let [gridData, setData] = useState({\n    data: {}\n  });\n  const [selectionModel, setSelectionModel] = useState([]);\n\n  let handleOpen = () => {\n    setOpen(true);\n  };\n\n  let handleClose = () => {\n    setOpen(false);\n  };\n\n  let deleteData = () => {\n    server_calls.delete(selectionModel); // console.log(gridData.data.id);\n\n    getData();\n    setTimeout(() => {\n      window.location.reload();\n    }, 1000);\n  }; // console.log(gridData.data.id!);\n  // console.log(`testing for data ${contactData}`)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: 400,\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Contacts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(DataGrid, {\n      rows: contactData,\n      columns: columns,\n      pageSize: 5,\n      checkboxSelection: true,\n      onSelectionModelChange: item => {\n        setSelectionModel(item); // console.log(item)\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleOpen,\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: deleteData,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: [\"Update Contact \", selectionModel]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Update Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ContactForm, {\n          id: selectionModel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DataTable, \"r0HlgsNfzd+Iqr7hgT2PPitTCk0=\", false, function () {\n  return [useGetData];\n});\n\n_c = DataTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataTable\");","map":{"version":3,"names":["React","useState","DataGrid","useGetData","server_calls","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","ContactForm","columns","field","headerName","width","hide","flex","DataTable","contactData","getData","open","setOpen","gridData","setData","data","selectionModel","setSelectionModel","handleOpen","handleClose","deleteData","delete","setTimeout","window","location","reload","height","item"],"sources":["/Users/yoonhwajeong/Documents/codingtemple/react/react-phonebook/react-phonebook-codealong/src/components/DataTable/DataTable.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { DataGrid, GridColDef } from '@material-ui/data-grid';\nimport { useGetData } from '../../custom-hooks';\nimport { server_calls } from '../../api';\nimport { Button, Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle } from '@material-ui/core';\nimport { ContactForm } from '../ContactForm';\n\nconst columns: GridColDef[] = [\n  { field: 'id', headerName: 'ID', width: 90, hide: true },\n  { field: 'name', headerName: 'Contact Name', flex: 1 },\n  { field: 'email', headerName: 'Email', flex: 1 },\n  { field: 'phone_number', headerName: 'Phone Number', flex: 1 },\n  { field: 'address', headerName: 'Address', flex: 2 },\n];\n\ninterface gridData {\n  data: {\n      id?:string\n  }\n}\n\nexport const DataTable = () => {\n\n  let { contactData, getData } = useGetData();\n  let [open, setOpen] = useState(false);\n  let [gridData, setData] = useState<gridData>({data:{}});\n  const [selectionModel, setSelectionModel] = useState<any>([]);\n  \n\n  let handleOpen = () => {\n      setOpen(true)\n  };\n  let handleClose = () => {\n      setOpen(false)\n  };\n\n  let deleteData = () => {\n      server_calls.delete(selectionModel);\n      // console.log(gridData.data.id);\n      getData();\n      setTimeout( () => { window.location.reload(); }, 1000)\n  }\n\n  // console.log(gridData.data.id!);\n  // console.log(`testing for data ${contactData}`)\n\n  return (\n    <div style={{ height: 400, width: '100%' }}>\n        <h2>My Contacts</h2>\n\n    <DataGrid rows={ contactData } columns={ columns } pageSize={ 5 } checkboxSelection={true} \n    onSelectionModelChange={ (item) => {\n        setSelectionModel(item)\n        // console.log(item)\n      }}\n    />\n\n    <Button onClick={handleOpen}>Update</Button>\n    <Button variant=\"contained\" color=\"secondary\" onClick={deleteData}>Delete</Button>\n\n    {/* Dialog pop-up */}\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Update Contact {selectionModel}</DialogTitle>\n        <DialogContent>\n            <DialogContentText>Update Contact</DialogContentText>\n                <ContactForm id={selectionModel!}/>\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">Cancel</Button>\n            <Button onClick={handleClose} color=\"primary\">Done</Button>\n        </DialogActions>\n    </Dialog>\n        \n    </div>\n)\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAqC,wBAArC;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA,SAASC,MAAT,EAAiBC,MAAjB,EACIC,aADJ,EAEIC,aAFJ,EAGIC,iBAHJ,EAIIC,WAJJ,QAIuB,mBAJvB;AAKA,SAASC,WAAT,QAA4B,gBAA5B;;AAEA,MAAMC,OAAqB,GAAG,CAC5B;EAAEC,KAAK,EAAE,IAAT;EAAeC,UAAU,EAAE,IAA3B;EAAiCC,KAAK,EAAE,EAAxC;EAA4CC,IAAI,EAAE;AAAlD,CAD4B,EAE5B;EAAEH,KAAK,EAAE,MAAT;EAAiBC,UAAU,EAAE,cAA7B;EAA6CG,IAAI,EAAE;AAAnD,CAF4B,EAG5B;EAAEJ,KAAK,EAAE,OAAT;EAAkBC,UAAU,EAAE,OAA9B;EAAuCG,IAAI,EAAE;AAA7C,CAH4B,EAI5B;EAAEJ,KAAK,EAAE,cAAT;EAAyBC,UAAU,EAAE,cAArC;EAAqDG,IAAI,EAAE;AAA3D,CAJ4B,EAK5B;EAAEJ,KAAK,EAAE,SAAT;EAAoBC,UAAU,EAAE,SAAhC;EAA2CG,IAAI,EAAE;AAAjD,CAL4B,CAA9B;AAcA,OAAO,MAAMC,SAAS,GAAG,MAAM;EAAA;;EAE7B,IAAI;IAAEC,WAAF;IAAeC;EAAf,IAA2BjB,UAAU,EAAzC;EACA,IAAI,CAACkB,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,KAAD,CAA9B;EACA,IAAI,CAACsB,QAAD,EAAWC,OAAX,IAAsBvB,QAAQ,CAAW;IAACwB,IAAI,EAAC;EAAN,CAAX,CAAlC;EACA,MAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsC1B,QAAQ,CAAM,EAAN,CAApD;;EAGA,IAAI2B,UAAU,GAAG,MAAM;IACnBN,OAAO,CAAC,IAAD,CAAP;EACH,CAFD;;EAGA,IAAIO,WAAW,GAAG,MAAM;IACpBP,OAAO,CAAC,KAAD,CAAP;EACH,CAFD;;EAIA,IAAIQ,UAAU,GAAG,MAAM;IACnB1B,YAAY,CAAC2B,MAAb,CAAoBL,cAApB,EADmB,CAEnB;;IACAN,OAAO;IACPY,UAAU,CAAE,MAAM;MAAEC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IAA2B,CAArC,EAAuC,IAAvC,CAAV;EACH,CALD,CAf6B,CAsB7B;EACA;;;EAEA,oBACE;IAAK,KAAK,EAAE;MAAEC,MAAM,EAAE,GAAV;MAAerB,KAAK,EAAE;IAAtB,CAAZ;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAGA,QAAC,QAAD;MAAU,IAAI,EAAGI,WAAjB;MAA+B,OAAO,EAAGP,OAAzC;MAAmD,QAAQ,EAAG,CAA9D;MAAkE,iBAAiB,EAAE,IAArF;MACA,sBAAsB,EAAIyB,IAAD,IAAU;QAC/BV,iBAAiB,CAACU,IAAD,CAAjB,CAD+B,CAE/B;MACD;IAJH;MAAA;MAAA;MAAA;IAAA,QAHA,eAUA,QAAC,MAAD;MAAQ,OAAO,EAAET,UAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAVA,eAWA,QAAC,MAAD;MAAQ,OAAO,EAAC,WAAhB;MAA4B,KAAK,EAAC,WAAlC;MAA8C,OAAO,EAAEE,UAAvD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAXA,eAcA,QAAC,MAAD;MAAQ,IAAI,EAAET,IAAd;MAAoB,OAAO,EAAEQ,WAA7B;MAA0C,mBAAgB,mBAA1D;MAAA,wBACI,QAAC,WAAD;QAAa,EAAE,EAAC,mBAAhB;QAAA,8BAAoDH,cAApD;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,aAAD;QAAA,wBACI,QAAC,iBAAD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEQ,QAAC,WAAD;UAAa,EAAE,EAAEA;QAAjB;UAAA;UAAA;UAAA;QAAA,QAFR;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAMI,QAAC,aAAD;QAAA,wBACI,QAAC,MAAD;UAAQ,OAAO,EAAEG,WAAjB;UAA8B,KAAK,EAAC,SAApC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI,QAAC,MAAD;UAAQ,OAAO,EAAEA,WAAjB;UAA8B,KAAK,EAAC,SAApC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAdA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA6BD,CAtDM;;GAAMX,S;UAEoBf,U;;;KAFpBe,S"},"metadata":{},"sourceType":"module"}