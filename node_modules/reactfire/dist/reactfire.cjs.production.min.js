"use strict";function e(e){if(e&&e.__esModule)return e;var r={};return e&&Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r.default=e,r}Object.defineProperty(exports,"__esModule",{value:!0});var r,t=require("react"),n=require("rxfire/auth"),o=require("rxjs"),i=require("rxjs/operators"),a=(r=require("firebase/app"))&&"object"==typeof r&&"default"in r?r.default:r,s=require("rxfire/database"),u=require("rxfire/firestore"),c=require("rxfire/storage");function l(e,r,t,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void t(e)}s.done?r(u):Promise.resolve(u).then(n,o)}function f(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){l(i,n,o,a,s,"next",e)}function s(e){l(i,n,o,a,s,"throw",e)}a(void 0)}))}}function p(){return(p=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function h(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,m(e,r)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,r){return(m=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,r,t){return(g=v()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(e,n));return t&&m(o,t.prototype),o}).apply(null,arguments)}function b(e){var r="function"==typeof Map?new Map:void 0;return(b=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return g(e,arguments,d(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),m(t,e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w,x=(function(e){var r=function(e){var r=Object.prototype,t=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{s({},"")}catch(e){s=function(e,r,t){return e[r]=t}}function u(e,r,t,n){var o=Object.create((r&&r.prototype instanceof f?r:f).prototype),i=new E(n||[]);return o._invoke=function(e,r,t){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(t.method=o,t.arg=i;;){var a=t.delegate;if(a){var s=w(a,t);if(s){if(s===l)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===n)throw n="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n="executing";var u=c(e,r,t);if("normal"===u.type){if(n=t.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(n="completed",t.method="throw",t.arg=u.arg)}}}(e,t,i),o}function c(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function h(){}var d={};d[o]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(O([])));v&&v!==r&&t.call(v,o)&&(d=v);var g=h.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(r){s(e,r,(function(e){return this._invoke(r,e)}))}))}function y(e,r){var n;this._invoke=function(o,i){function a(){return new r((function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&t.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):r.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,r){var t=e.iterator[r.method];if(void 0===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=void 0,w(e,r),"throw"===r.method))return l;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(t,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,l;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}function x(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function _(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(t.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=g.constructor=h,h.constructor=p,p.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(y.prototype),y.prototype[i]=function(){return this},e.AsyncIterator=y,e.async=function(r,t,n,o,i){void 0===i&&(i=Promise);var a=new y(u(r,t,n,o),i);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&t.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t,n){return a.type="throw",a.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),l},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),_(t),l}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;_(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,t){return this.delegate={iterator:O(e),resultName:r,nextLoc:t},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}(w={exports:{}}),w.exports);function _(e){var r;return new Proxy((function(t,n){r=Q();var o=t||r;if(H(n)){var i=L(e,o);if(i.hasValue)return a[e];throw i.firstEmission}if(o[e])return a[e];throw new Error('ReactFire: "firebase/'+e+'" not found. Please import it in your component, or call preload'+(e.charAt(0).toUpperCase()+e.slice(1))+" and wait for it to resolve. ReactFire can only auto-import Firebase libraries if Suspense mode is enabled.")}),{get:function(e,r){return e()[r]},apply:function(e,t,n){var o=e(n[0]).bind(t);return n[0]||(n[0]=r),o.apply(void 0,n)}})}var E=_("auth"),O=_("analytics"),C=_("database"),F=_("firestore"),P=_("functions"),k=_("messaging"),D=_("performance"),S=_("remoteConfig"),j=_("storage");function R(e){return function(r){return L(e,r.firebaseApp,r.setup).toPromise()}}function L(r,t,n){void 0===n&&(n=function(){});var i=t;return ee(new o.Observable((function(t){(function(r){switch(r){case"analytics":return new Promise((function(r){r(e(require("firebase/analytics")))}));case"auth":return new Promise((function(r){r(e(require("firebase/auth")))}));case"database":return new Promise((function(r){r(e(require("firebase/database")))}));case"firestore":return new Promise((function(r){r(e(require("firebase/firestore")))}));case"functions":return new Promise((function(r){r(e(require("firebase/functions")))}));case"messaging":return new Promise((function(r){r(e(require("firebase/messaging")))}));case"performance":return new Promise((function(r){r(e(require("firebase/performance")))}));case"remoteConfig":return new Promise((function(r){r(e(require("firebase/remote-config")))}));case"storage":return new Promise((function(r){r(e(require("firebase/storage")))}))}})(r).then(f(x.mark((function e(){var o;return x.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i[r].bind(i),e.next=3,Promise.resolve(n(o));case 3:t.next(o),t.complete();case 5:case"end":return e.stop()}}),e)})))).catch((function(e){t.error(e),t.complete()}))})),"firebase-sdk:"+r+":"+i.name)}var q=R("auth"),I=R("analytics"),A=R("database"),N=R("firestore"),T=R("functions"),V=R("messaging"),M=R("performance"),U=R("remoteConfig"),W=R("storage"),G=t.createContext(void 0),B=t.createContext(!1);function H(e){var r=t.useContext(B);return void 0!==e?e:r}function Q(){var e=t.useContext(G);if(!e)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return e}function z(e){var r,t,o=E(),i="auth:user:"+o.app.name,a=n.user(o),s=o.currentUser;return!s&&(null!=(r=null==e?void 0:e.initialData)?r:null==e?void 0:e.startWithValue)&&(s=null!=(t=e.initialData)?t:e.startWithValue),re(i,a,p({},e,{initialData:s}))}function J(e,r,t){if(void 0===r&&(r=!1),!e)throw new Error("you must provide a user");return re("auth:idTokenResult:"+e.uid+":forceRefresh="+r,o.from(e.getIdTokenResult(r)),t)}function Y(e){var r=e.fallback,n=e.children,o=e.requiredClaims,i=J(e.user,!1).data.claims,a={};return H()||console.warn("ClaimsCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),o&&Object.keys(o).forEach((function(e){o[e]!==i[e]&&(a[e]={expected:o[e],actual:i[e]})})),0===Object.keys(a).length?t.createElement(t.Fragment,null,n):t.createElement(t.Fragment,null,r)}var K=globalThis._reactFireDatabaseCachedQueries||[];function X(e){var r=K.findIndex((function(r){return r.isEqual(e)}));return r>-1?r:K.push(e)-1}globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=K);var Z=function(e){function r(r,t){var n;return(n=e.call(this)||this)._timeoutWindow=void 0,n._value=void 0,n._hasValue=!1,n._timeoutHandler=void 0,n._firstEmission=void 0,n._error=void 0,n._innerObservable=void 0,n._warmupSubscription=void 0,n._innerSubscriber=void 0,n._resolveFirstEmission=void 0,n._timeoutWindow=t,n._firstEmission=new Promise((function(e){return n._resolveFirstEmission=e})),n._innerObservable=r.pipe(i.tap({next:function(e){n._next(e)},error:function(e){n._error=e,n._resolveFirstEmission()}}),i.catchError((function(){return o.empty()})),i.shareReplay(1)),n._warmupSubscription=n._innerObservable.subscribe(),n._timeoutHandler=setTimeout(n._reset.bind(y(n)),n._timeoutWindow),n}h(r,e);var t,n=r.prototype;return n._next=function(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()},n._reset=function(){var e=this;this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise((function(r){return e._resolveFirstEmission=r}))},n._subscribe=function(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber},(t=[{key:"hasValue",get:function(){return this._hasValue||!!this._error}},{key:"value",get:function(){if(this._error)throw this._error;return this._value}},{key:"firstEmission",get:function(){return this._firstEmission}},{key:"ourError",get:function(){return this._error}}])&&function(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(r.prototype,t),r}(o.Subject),$=globalThis._reactFirePreloadedObservables||new Map;function ee(e,r){if($.has(r))return $.get(r);var t=new Z(e,3e4);return $.set(r,t),t}function re(e,r,n){var o,i,a;if(void 0===n&&(n={}),!e)throw new Error("cannot call useObservable without an observableId");var s=ee(r,e),u=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue");if(!0===H(n.suspense)&&!s.hasValue&&(null!=(o=!(null!=(i=n)&&i.initialData))?o:null==(a=n)||!a.startWithValue))throw s.firstEmission;var c=t.useState((function(){var e;return s.hasValue?s.value:null!=(e=n.initialData)?e:n.startWithValue})),l=c[0],f=c[1],p=t.useState(!1),h=p[0],d=p[1],m=t.useState(!1),v=m[0],g=m[1];return t.useEffect((function(){var e=s.subscribe({next:function(e){f((function(){return e}))},error:function(e){throw g(!0),e},complete:function(){d(!0)}});return function(){return e.unsubscribe()}}),[s]),{status:v?"error":s.hasValue||u?"success":"loading",hasEmitted:s.hasValue||u,isComplete:h,data:l,error:s.ourError,firstValuePromise:s.firstEmission}}globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=$);var te=globalThis._reactFireFirestoreQueryCache||[];function ne(e){var r=te.findIndex((function(r){return r.isEqual(e)}));return r>-1?r:te.push(e)-1}function oe(e){var r=e.remoteConfig,t=e.key,n=e.getter;return new o.Observable((function(e){r.ensureInitialized().then((function(){e.next(n.bind(r)(t))}))}))}function ie(e,r){return oe({remoteConfig:e,key:r,getter:e.getValue})}function ae(e,r){return oe({remoteConfig:e,key:r,getter:e.getString})}function se(e,r){return oe({remoteConfig:e,key:r,getter:e.getNumber})}function ue(e,r){return oe({remoteConfig:e,key:r,getter:e.getBoolean})}function ce(e){return oe({remoteConfig:e,key:"",getter:e.getAll})}function le(e,r){var t,n=S(),o=null==(t=n._storage)?void 0:t.appName,i=r(n,e);return re("remoteConfig:"+e+":"+r.name+":"+o,i)}globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=te);var fe=["storage","storagePath","suspense","placeHolder"];function pe(e,r){return re("storage:downloadUrl:"+e.toString(),c.getDownloadURL(e),r)}function he(e){return e=p({},e,{storage:j()}),t.createElement(de,p({},e))}function de(e){var r=e.storage,n=e.storagePath,o=e.suspense,i=e.placeHolder,a=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r.indexOf(t=i[n])>=0||(o[t]=e[t]);return o}(e,fe),s={suspense:H(o)};if(!r)throw new Error("Storage was not passed to component INTERNALStorageImage. This should not be possible");var u=pe(r.ref(n),s),c=u.data;return"success"===u.status?(a.alt||""===a.alt||console.warn('No alt prop provided for StorageImage with storagePath "'+n+'"',"img elements must have an alt prop, either with meaningful text, or an empty string for decorative images"),t.createElement("img",p({src:c,alt:a.alt},a))):null!=i?i:t.createElement(t.Fragment,null,"''")}var me=function(e){function r(t,n,o){var i;return(i=e.call(this,n)||this).code=void 0,i.customData=void 0,i.name="ReactFireError",i.code=t,i.customData=o,Object.setPrototypeOf(y(i),r.prototype),i}return h(r,e),r}(b(Error));function ve(e,r){if("idField"===r||"initialData"===r||"suspense"===r)return e?e[r]:void 0;throw new Error('Field "'+r+'" is not a valid key in ReactFireOptions')}function ge(e){return ve(e,"idField")}exports.AuthCheck=function(e){var r=e.fallback,n=e.children,o=e.requiredClaims,i=z().data;return H()||console.warn("AuthCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component."),i?o?t.createElement(Y,{user:i,fallback:r,requiredClaims:o},n):t.createElement(t.Fragment,null,n):t.createElement(t.Fragment,null,r)},exports.ClaimsCheck=Y,exports.FirebaseAppProvider=function(e){var r=e.firebaseConfig,n=e.appName,o=e.suspense,i=t.useMemo((function(){if(e.firebaseApp)return e.firebaseApp;var o,i,s=a.apps.find((function(e){return e.name===(n||"[DEFAULT]")}));if(s){if(r&&((o=s.options)===(i=r)||[].concat(Object.keys(o),Object.keys(i)).every((function(e){return o[e]===i[e]}))))return s;throw new Error("Does not match the options already provided to the "+(n||"default")+" firebase app instance, give this new instance a different appName.")}if(!r)throw new Error("No firebaseConfig provided");return a.registerVersion("react",t.version||"unknown"),a.registerVersion("reactfire","3.0.0"),a.initializeApp(r,n)}),[e.firebaseApp,r,n]);return t.createElement(G.Provider,{value:i},t.createElement(B.Provider,p({value:null!=o&&o},e)))},exports.ReactFireError=me,exports.StorageImage=function(e){return t.createElement(e.storage?de:he,p({},e))},exports.SuspenseWithPerf=function(e){var r,n=e.children,o=e.traceId,i=e.fallback,a=e.firePerf,s=Q();a||M({firebaseApp:s}).then((function(e){return e()}));var u=(null==(r=performance)||null==r.getEntriesByName?void 0:r.getEntriesByName(o,"measure"))||[],c="_"+o+"Start["+u.length+"]",l="_"+o+"End["+u.length+"]";return t.createElement(t.Suspense,{fallback:t.createElement((function(){return t.useLayoutEffect((function(){var e;return null==(e=performance)||null==e.mark||e.mark(c),function(){var e,r;null==(e=performance)||null==e.mark||e.mark(l),null==(r=performance)||null==r.measure||r.measure(o,c,l)}}),[]),t.createElement(t.Fragment,null,i)}),null)},n)},exports.checkIdField=ge,exports.checkOptions=ve,exports.checkinitialData=function(e){return ve(e,"initialData")},exports.preloadAnalytics=I,exports.preloadAuth=q,exports.preloadDatabase=A,exports.preloadFirestore=N,exports.preloadFirestoreDoc=function(e,r){var t=r.firebaseApp;return N({firebaseApp:t}).then((function(r){var n=e(r());return ee(u.doc(n),"firestore:doc:"+t.name+":"+n.path)}))},exports.preloadFunctions=T,exports.preloadMessaging=V,exports.preloadObservable=ee,exports.preloadPerformance=M,exports.preloadRemoteConfig=U,exports.preloadStorage=W,exports.preloadUser=function(e){var r=e.firebaseApp;return q({firebaseApp:r}).then((function(e){return ee(n.user(e()),"auth:user:"+r.name).toPromise()}))},exports.useAnalytics=O,exports.useAuth=E,exports.useDatabase=C,exports.useDatabaseList=function(e,r){return re("database:list:"+X(e),s.list(e),r)},exports.useDatabaseListData=function(e,r){var t=r?ge(r):"NO_ID_FIELD";return re("database:listVal:"+X(e)+":idField="+t,s.listVal(e,t),r)},exports.useDatabaseObject=function(e,r){return re("database:object:"+e.toString(),s.object(e),r)},exports.useDatabaseObjectData=function(e,r){var t,n=r?ge(r):"NO_ID_FIELD";return re("database:objectVal:"+e.toString()+":idField="+n,(t=n,s.object(e).pipe(i.map((function(e){return function(e,r){var t,n=e.snapshot.val();return"object"!=typeof n?n:p({},e.snapshot.val(),r?((t={})[r]=e.snapshot.key,t):null)}(e,t)})))),r)},exports.useFirebaseApp=Q,exports.useFirestore=F,exports.useFirestoreCollection=function(e,r){return re("firestore:collection:"+ne(e),u.fromCollectionRef(e),r)},exports.useFirestoreCollectionData=function(e,r){var t=r?ge(r):"NO_ID_FIELD";return re("firestore:collectionData:"+ne(e)+":idField="+t,u.collectionData(e,t),r)},exports.useFirestoreDoc=function(e,r){return re("firestore:doc:"+e.firestore.app.name+":"+e.path,u.doc(e),r)},exports.useFirestoreDocData=function(e,r){var t=r?ge(r):"NO_ID_FIELD";return re("firestore:docData:"+e.firestore.app.name+":"+e.path+":idField="+t,u.docData(e,t),r)},exports.useFirestoreDocDataOnce=function(e,r){var t=r?ge(r):"NO_ID_FIELD";return re("firestore:docDataOnce:"+e.firestore.app.name+":"+e.path+":idField="+t,u.docData(e,t).pipe(i.first()),r)},exports.useFirestoreDocOnce=function(e,r){return re("firestore:docOnce:"+e.firestore.app.name+":"+e.path,u.doc(e).pipe(i.first()),r)},exports.useFunctions=P,exports.useIdTokenResult=J,exports.useIsSuspenseEnabled=function(){var e=t.useContext(B);return null!=e&&e},exports.useMessaging=k,exports.useObservable=re,exports.usePerformance=D,exports.useRemoteConfig=S,exports.useRemoteConfigAll=function(e){return le(e,ce)},exports.useRemoteConfigBoolean=function(e){return le(e,ue)},exports.useRemoteConfigNumber=function(e){return le(e,se)},exports.useRemoteConfigString=function(e){return le(e,ae)},exports.useRemoteConfigValue=function(e){return le(e,ie)},exports.useSigninCheck=function(e){if(null!=e&&e.hasOwnProperty("requiredClaims")&&null!=e&&e.hasOwnProperty("validateCustomClaims"))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');var r=E(),t="auth:signInCheck:"+r.app.name+"::forceRefresh:"+!(null==e||!e.forceRefresh);return null!=e&&e.forceRefresh&&(t=t+":forceRefresh:"+e.forceRefresh),null!=e&&e.hasOwnProperty("requiredClaims")?t=t+":requiredClaims:"+JSON.stringify(e.requiredClaims):null!=e&&e.hasOwnProperty("validateCustomClaims")&&(t=t+":validateCustomClaims:"+JSON.stringify(e.validateCustomClaims)),re(t,n.user(r).pipe(i.switchMap((function(r){var t;return r?e&&(e.hasOwnProperty("requiredClaims")||e.hasOwnProperty("validateCustomClaims"))?o.from(r.getIdTokenResult(null!=(t=null==e?void 0:e.forceRefresh)&&t)).pipe(i.map((function(t){var n,o;e.hasOwnProperty("requiredClaims")?(o=e.requiredClaims,n=function(e){var r={};return Object.keys(o).forEach((function(t){o[t]!==e[t]&&(r[t]=[new me("auth/missing-claim",'Expected "'+o[t]+'", but user has "'+e[t]+'" instead')])})),{hasRequiredClaims:0===Object.keys(r).length,errors:r}}):n=e.validateCustomClaims;var i=n(t.claims);return{signedIn:!0,hasRequiredClaims:i.hasRequiredClaims,errors:i.errors,user:r}}))):o.of({signedIn:!0,hasRequiredClaims:!0,user:r}):o.of({signedIn:!1,hasRequiredClaims:!1})}))))},exports.useStorage=j,exports.useStorageDownloadURL=pe,exports.useStorageTask=function(e,r,t){return re("storage:task:"+r.toString(),function(e){return new o.Observable((function(r){e.on("state_changed",(function(e){return r.next(e)}),(function(e){return r.error(e)}),(function(){return r.complete()}))}))}(e),t)},exports.useSuspenseEnabledFromConfigAndContext=H,exports.useUser=z,exports.version="3.0.0";
//# sourceMappingURL=reactfire.cjs.production.min.js.map
