{"version":3,"file":"reactfire.cjs.development.js","sources":["../node_modules/regenerator-runtime/runtime.js","../src/sdk.tsx","../src/firebaseApp.tsx","../src/auth.tsx","../src/database.tsx","../src/SuspenseSubject.ts","../src/useObservable.ts","../src/firestore.tsx","../src/performance.tsx","../src/remote-config/getValue.tsx","../src/remote-config/index.tsx","../src/storage.tsx","../src/index.ts"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import { useFirebaseApp, useSuspenseEnabledFromConfigAndContext, preloadObservable } from './';\nimport firebase from 'firebase/app';\nimport { Observable } from 'rxjs';\n\ntype ComponentName = 'analytics' | 'auth' | 'database' | 'firestore' | 'functions' | 'messaging' | 'performance' | 'remoteConfig' | 'storage';\n\ntype ValueOf<T> = T[keyof T];\ntype App = firebase.app.App;\ntype FirebaseInstanceFactory = ValueOf<Pick<App, ComponentName>>;\ntype FirebaseNamespaceComponent = ValueOf<Pick<typeof firebase, ComponentName>>;\n\nfunction importSDK(sdk: ComponentName) {\n  switch (sdk) {\n    case 'analytics':\n      return import(/* webpackChunkName: \"analytics\" */ 'firebase/analytics');\n    case 'auth':\n      return import(/* webpackChunkName: \"auth\" */ 'firebase/auth');\n    case 'database':\n      return import(/* webpackChunkName: \"database\" */ 'firebase/database');\n    case 'firestore':\n      return import(/* webpackChunkName: \"firestore\" */ 'firebase/firestore');\n    case 'functions':\n      return import(/* webpackChunkName: \"functions\" */ 'firebase/functions');\n    case 'messaging':\n      return import(/* webpackChunkName: \"messaging\" */ 'firebase/messaging');\n    case 'performance':\n      return import(/* webpackChunkName: \"performance\" */ 'firebase/performance');\n    case 'remoteConfig':\n      return import(/* webpackChunkName: \"remoteConfig\" */ 'firebase/remote-config');\n    case 'storage':\n      return import(/* webpackChunkName: \"storage\" */ 'firebase/storage');\n  }\n}\n\nfunction proxyComponent(componentName: 'auth'): typeof firebase.auth;\nfunction proxyComponent(componentName: 'analytics'): typeof firebase.analytics;\nfunction proxyComponent(componentName: 'database'): typeof firebase.database;\nfunction proxyComponent(componentName: 'firestore'): typeof firebase.firestore;\nfunction proxyComponent(componentName: 'functions'): typeof firebase.functions;\nfunction proxyComponent(componentName: 'messaging'): typeof firebase.messaging;\nfunction proxyComponent(componentName: 'performance'): typeof firebase.performance;\nfunction proxyComponent(componentName: 'remoteConfig'): typeof firebase.remoteConfig;\nfunction proxyComponent(componentName: 'storage'): typeof firebase.storage;\nfunction proxyComponent(componentName: ComponentName): FirebaseNamespaceComponent {\n  let contextualApp: App | undefined;\n  const useComponent = (app?: App, suspense?: boolean) => {\n    // Get the app from context,\n    // but prefer a passed-in app over the one from context\n    contextualApp = useFirebaseApp();\n    const firebaseApp = app || contextualApp;\n\n    const suspenseEnabled = useSuspenseEnabledFromConfigAndContext(suspense);\n    if (suspenseEnabled) {\n      // automatically kick off a lazy-load of the requested SDK\n      const sdkSubject = preload(componentName, firebaseApp);\n\n      if (sdkSubject.hasValue) {\n        // get value to throw in case there's an error\n        sdkSubject.value; // eslint-disable-line @typescript-eslint/no-unused-expressions\n        return firebase[componentName];\n      } else {\n        throw sdkSubject.firstEmission;\n      }\n    } else if (firebaseApp[componentName]) {\n      // TODO(jamesdaniels): Shouldn't this be firebaseApp?\n      // firebaseApp[componentName].bind(firebaseApp) doesn't seem to work, though\n      return firebase[componentName];\n    } else {\n      throw new Error(\n        `ReactFire: \"firebase/${componentName}\" not found. Please import it in your component, or call preload${componentName.charAt(0).toUpperCase() +\n          componentName.slice(1)} and wait for it to resolve. ReactFire can only auto-import Firebase libraries if Suspense mode is enabled.`\n      );\n    }\n  };\n\n  return new Proxy(useComponent, {\n    // @ts-ignore: TODO: Fix the types here\n    get: (target, p) => target()[p],\n    apply: (target, _this, args) => {\n      const component = target(args[0]).bind(_this);\n      // If they don't pass an app, assume the app in context rather than [DEFAULT]\n      if (!args[0]) {\n        args[0] = contextualApp;\n      }\n      return component(...args);\n    }\n  }) as any;\n}\n\nexport const useAuth = proxyComponent('auth');\nexport const useAnalytics = proxyComponent('analytics');\nexport const useDatabase = proxyComponent('database');\nexport const useFirestore = proxyComponent('firestore');\nexport const useFunctions = proxyComponent('functions');\nexport const useMessaging = proxyComponent('messaging');\nexport const usePerformance = proxyComponent('performance');\nexport const useRemoteConfig = proxyComponent('remoteConfig');\nexport const useStorage = proxyComponent('storage');\n\nexport type PreloadOptions<T> = {\n  firebaseApp: App;\n  setup?: (instanceFactory: T) => void | Promise<any>;\n  suspense?: boolean;\n};\n\nfunction preloadFactory(componentName: 'auth'): (options: PreloadOptions<App['auth']>) => Promise<App['auth']>;\nfunction preloadFactory(componentName: 'analytics'): (options: PreloadOptions<App['analytics']>) => Promise<App['analytics']>;\nfunction preloadFactory(componentName: 'database'): (options: PreloadOptions<App['database']>) => Promise<App['database']>;\nfunction preloadFactory(componentName: 'firestore'): (options: PreloadOptions<App['firestore']>) => Promise<App['firestore']>;\nfunction preloadFactory(componentName: 'functions'): (options: PreloadOptions<App['functions']>) => Promise<App['functions']>;\nfunction preloadFactory(componentName: 'messaging'): (options: PreloadOptions<App['messaging']>) => Promise<App['messaging']>;\nfunction preloadFactory(componentName: 'performance'): (options: PreloadOptions<App['performance']>) => Promise<App['performance']>;\nfunction preloadFactory(componentName: 'remoteConfig'): (options: PreloadOptions<App['remoteConfig']>) => Promise<App['remoteConfig']>;\nfunction preloadFactory(componentName: 'storage'): (options: PreloadOptions<App['storage']>) => Promise<App['storage']>;\nfunction preloadFactory(componentName: ComponentName) {\n  return (options: PreloadOptions<FirebaseInstanceFactory>) => preload(componentName, options.firebaseApp, options.setup).toPromise();\n}\n\nfunction preload(componentName: ComponentName, firebaseApp: App, settingsCallback: (instanceFactory: FirebaseInstanceFactory) => any = () => {}) {\n  const app = firebaseApp;\n\n  return preloadObservable(\n    new Observable(emitter => {\n      importSDK(componentName)\n        .then(async () => {\n          const instanceFactory: FirebaseInstanceFactory = app[componentName].bind(app);\n\n          // Make sure settingsCallback completes before returning the SDK\n          // Often, SDK settings must be set before any other calls to that SDK can be made\n          await Promise.resolve(settingsCallback(instanceFactory));\n          emitter.next(instanceFactory);\n          emitter.complete();\n        })\n        .catch(e => {\n          emitter.error(e);\n          emitter.complete();\n        });\n    }),\n    `firebase-sdk:${componentName}:${app.name}`\n  );\n}\n\nexport const preloadAuth = preloadFactory('auth');\nexport const preloadAnalytics = preloadFactory('analytics');\nexport const preloadDatabase = preloadFactory('database');\nexport const preloadFirestore = preloadFactory('firestore');\nexport const preloadFunctions = preloadFactory('functions');\nexport const preloadMessaging = preloadFactory('messaging');\nexport const preloadPerformance = preloadFactory('performance');\nexport const preloadRemoteConfig = preloadFactory('remoteConfig');\nexport const preloadStorage = preloadFactory('storage');\n","import firebase from 'firebase/app';\nimport * as React from 'react';\n\nexport * from './sdk';\n\ntype FirebaseAppContextValue = firebase.app.App;\n\n// INVESTIGATE I don't like magic strings, can we have export this in js-sdk?\nconst DEFAULT_APP_NAME = '[DEFAULT]';\n\nconst FirebaseAppContext = React.createContext<FirebaseAppContextValue | undefined>(undefined);\n\nconst SuspenseEnabledContext = React.createContext<boolean>(false);\n\ntype Props = {\n  firebaseApp?: firebase.app.App;\n  firebaseConfig?: Object;\n  appName?: string;\n  suspense?: boolean;\n};\n\n// @ts-ignore: \"__REACTFIRE_VERSION__\" is replaced with actual ReactFire version (see babel.config.js)\nexport const version = __REACTFIRE_VERSION__;\n\nconst shallowEq = (a: { [key: string]: any }, b: { [key: string]: any }) => a === b || [...Object.keys(a), ...Object.keys(b)].every(key => a[key] === b[key]);\n\nexport function FirebaseAppProvider(props: Props & { [key: string]: unknown }) {\n  const { firebaseConfig, appName, suspense } = props;\n\n  const firebaseApp: firebase.app.App = React.useMemo(() => {\n    if (props.firebaseApp) {\n      return props.firebaseApp;\n    }\n\n    const existingApp = firebase.apps.find(app => app.name === (appName || DEFAULT_APP_NAME));\n    if (existingApp) {\n      if (firebaseConfig && shallowEq(existingApp.options, firebaseConfig)) {\n        return existingApp;\n      } else {\n        throw new Error(\n          `Does not match the options already provided to the ${appName || 'default'} firebase app instance, give this new instance a different appName.`\n        );\n      }\n    } else {\n      if (!firebaseConfig) {\n        throw new Error('No firebaseConfig provided');\n      }\n\n      // TODO: DOUBLE CHECK THAT THIS GETS CALLED\n      const reactVersion = React.version || 'unknown';\n      firebase.registerVersion('react', reactVersion);\n      firebase.registerVersion('reactfire', version);\n      return firebase.initializeApp(firebaseConfig, appName);\n    }\n  }, [props.firebaseApp, firebaseConfig, appName]);\n\n  return (\n    <FirebaseAppContext.Provider value={firebaseApp}>\n      <SuspenseEnabledContext.Provider value={suspense ?? false} {...props} />\n    </FirebaseAppContext.Provider>\n  );\n}\n\nexport function useIsSuspenseEnabled(): boolean {\n  const suspense = React.useContext(SuspenseEnabledContext);\n\n  // default to false if not available in context\n  return suspense ?? false;\n}\n\nexport function useSuspenseEnabledFromConfigAndContext(suspenseFromConfig?: boolean): boolean {\n  let suspenseFromContext = React.useContext(SuspenseEnabledContext);\n\n  // prioritize config over context\n  if (suspenseFromConfig !== undefined) {\n    return suspenseFromConfig;\n  }\n\n  return suspenseFromContext;\n}\n\nexport function useFirebaseApp() {\n  const firebaseApp = React.useContext(FirebaseAppContext);\n  if (!firebaseApp) {\n    throw new Error('Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider');\n  }\n\n  return firebaseApp;\n}\n","import firebase from 'firebase/app';\nimport * as React from 'react';\nimport { user } from 'rxfire/auth';\nimport { preloadAuth, preloadObservable, ReactFireOptions, useAuth, useObservable, ObservableStatus, ReactFireError } from './';\nimport { from, of } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { useSuspenseEnabledFromConfigAndContext } from './firebaseApp';\n\nexport function preloadUser(options: { firebaseApp: firebase.app.App }) {\n  const firebaseApp = options.firebaseApp;\n\n  return preloadAuth({ firebaseApp }).then(auth => {\n    const result = preloadObservable(user(auth()), `auth:user:${firebaseApp.name}`);\n    return result.toPromise();\n  });\n}\n\n/**\n * Subscribe to Firebase auth state changes, including token refresh\n *\n * @param options\n */\nexport function useUser<T = unknown>(options?: ReactFireOptions<T>): ObservableStatus<firebase.User> {\n  const auth = useAuth();\n\n  const observableId = `auth:user:${auth.app.name}`;\n  const observable$ = user(auth);\n\n  let currentUser = auth.currentUser;\n\n  // Only use options.initialData if auth.currentUser is unavailable\n  if (!currentUser && (options?.initialData ?? options?.startWithValue)) {\n    currentUser = options.initialData ?? options.startWithValue;\n  }\n\n  return useObservable(observableId, observable$, { ...options, initialData: currentUser });\n}\n\nexport function useIdTokenResult(\n  user: firebase.User,\n  forceRefresh: boolean = false,\n  options?: ReactFireOptions<firebase.auth.IdTokenResult>\n): ObservableStatus<firebase.auth.IdTokenResult> {\n  if (!user) {\n    throw new Error('you must provide a user');\n  }\n\n  const observableId = `auth:idTokenResult:${user.uid}:forceRefresh=${forceRefresh}`;\n  const observable$ = from(user.getIdTokenResult(forceRefresh));\n\n  return useObservable(observableId, observable$, options);\n}\n\nexport interface AuthCheckProps {\n  fallback: React.ReactNode;\n  children: React.ReactNode;\n  requiredClaims?: Object;\n}\n\nexport interface ClaimsCheckProps {\n  user: firebase.User;\n  fallback: React.ReactNode;\n  children: React.ReactNode;\n  requiredClaims: { [key: string]: any };\n}\n\nexport interface ClaimCheckErrors {\n  [key: string]: any[];\n}\n\nexport type SigninCheckResult =\n  | {\n      signedIn: false;\n      hasRequiredClaims: false;\n      errors: {};\n      user: null;\n    }\n  | {\n      signedIn: true;\n      hasRequiredClaims: boolean;\n      errors: ClaimCheckErrors;\n      user: firebase.User;\n    };\n\nexport interface SignInCheckOptionsBasic extends ReactFireOptions<SigninCheckResult> {\n  forceRefresh?: boolean;\n}\n\nexport interface SignInCheckOptionsClaimsObject extends SignInCheckOptionsBasic {\n  requiredClaims: firebase.auth.IdTokenResult['claims'];\n}\n\nexport interface ClaimsValidator {\n  (claims: firebase.auth.IdTokenResult['claims']): {\n    hasRequiredClaims: boolean;\n    errors: ClaimCheckErrors | {};\n  };\n}\n\nexport interface SignInCheckOptionsClaimsValidator extends SignInCheckOptionsBasic {\n  validateCustomClaims: ClaimsValidator;\n}\n\n/**\n * Subscribe to the signed-in status of a user.\n *\n * ```ts\n * const { status, data:signInCheckResult } = useSigninCheck();\n *\n * if (status === 'loading') {\n *   return <LoadingSpinner />}\n *\n *\n * if (signInCheckResult.signedIn === true) {\n *   return <ProfilePage user={signInCheckResult.user}/>\n * } else {\n *   return <SignInForm />\n * }\n * ```\n *\n * Optionally check [custom claims](https://firebase.google.com/docs/auth/admin/custom-claims) of a user as well.\n *\n * ```ts\n * // pass in an object describing the custom claims a user must have\n * const {status, data: signInCheckResult} = useSignInCheck({requiredClaims: {admin: true}});\n *\n * // pass in a custom claims validator function\n * const {status, data: signInCheckResult} = useSignInCheck({validateCustomClaims: (userClaims) => {\n *   // custom validation logic...\n * }});\n *\n * // You can optionally force-refresh the token\n * const {status, data: signInCheckResult} = useSignInCheck({forceRefresh: true, requiredClaims: {admin: true}});\n * ```\n */\nexport function useSigninCheck(\n  options?: SignInCheckOptionsBasic | SignInCheckOptionsClaimsObject | SignInCheckOptionsClaimsValidator\n): ObservableStatus<SigninCheckResult> {\n  // If both `requiredClaims` and `validateCustomClaims` are provided, we won't know which one to use\n  if (options?.hasOwnProperty('requiredClaims') && options?.hasOwnProperty('validateCustomClaims')) {\n    throw new Error('Cannot have both \"requiredClaims\" and \"validateCustomClaims\". Use one or the other.');\n  }\n\n  const auth = useAuth();\n\n  // ObservableId should change for different options configurations to ensure no cache collisions\n  let observableId = `auth:signInCheck:${auth.app.name}::forceRefresh:${!!options?.forceRefresh}`;\n  if (options?.forceRefresh) {\n    observableId = `${observableId}:forceRefresh:${options.forceRefresh}`;\n  }\n  if (options?.hasOwnProperty('requiredClaims')) {\n    observableId = `${observableId}:requiredClaims:${JSON.stringify((options as SignInCheckOptionsClaimsObject).requiredClaims)}`;\n  } else if (options?.hasOwnProperty('validateCustomClaims')) {\n    // TODO(jamesdaniels): Check if stringifying this function breaks in IE11\n    observableId = `${observableId}:validateCustomClaims:${JSON.stringify((options as SignInCheckOptionsClaimsValidator).validateCustomClaims)}`;\n  }\n\n  const observable = user(auth).pipe(\n    switchMap(user => {\n      if (!user) {\n        return of({ signedIn: false, hasRequiredClaims: false });\n      } else if (options && (options.hasOwnProperty('requiredClaims') || options.hasOwnProperty('validateCustomClaims'))) {\n        return from(user.getIdTokenResult(options?.forceRefresh ?? false)).pipe(\n          map(idTokenResult => {\n            let validator: ClaimsValidator;\n\n            if (options.hasOwnProperty('requiredClaims')) {\n              validator = getClaimsObjectValidator((options as SignInCheckOptionsClaimsObject).requiredClaims);\n            } else {\n              validator = (options as SignInCheckOptionsClaimsValidator).validateCustomClaims;\n            }\n\n            const { hasRequiredClaims, errors } = validator(idTokenResult.claims);\n            return { signedIn: true, hasRequiredClaims, errors, user: user };\n          })\n        );\n      } else {\n        // If no claims are provided to be checked, `hasRequiredClaims` is true\n        return of({ signedIn: true, hasRequiredClaims: true, user: user });\n      }\n    })\n  );\n\n  return useObservable(observableId, observable);\n}\n\nfunction getClaimsObjectValidator(requiredClaims: firebase.auth.IdTokenResult['claims']): ClaimsValidator {\n  return function claimsObjectValidator(userClaims) {\n    const errors: { [key: string]: ReactFireError[] } = {};\n\n    Object.keys(requiredClaims).forEach(claim => {\n      if (requiredClaims[claim] !== userClaims[claim]) {\n        errors[claim] = [new ReactFireError('auth/missing-claim', `Expected \"${requiredClaims[claim]}\", but user has \"${userClaims[claim]}\" instead`)];\n      }\n    });\n\n    return {\n      hasRequiredClaims: Object.keys(errors).length === 0,\n      errors\n    };\n  };\n}\n\n/**\n * @deprecated Use `useSignInCheck` instead\n *\n * Conditionally render children based on [custom claims](https://firebase.google.com/docs/auth/admin/custom-claims).\n *\n * Meant for Concurrent mode only (`<FirebaseAppProvider suspense=true />`). [More detail](https://github.com/FirebaseExtended/reactfire/issues/325#issuecomment-827654376).\n */\nexport function ClaimsCheck({ user, fallback, children, requiredClaims }: ClaimsCheckProps) {\n  const { data } = useIdTokenResult(user, false);\n  const { claims } = data;\n  const missingClaims: { [key: string]: { expected: string; actual: string } } = {};\n\n  const suspenseMode = useSuspenseEnabledFromConfigAndContext();\n  if (!suspenseMode) {\n    console.warn(\n      'ClaimsCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component.'\n    );\n  }\n\n  if (requiredClaims) {\n    Object.keys(requiredClaims).forEach(claim => {\n      if (requiredClaims[claim] !== claims[claim]) {\n        missingClaims[claim] = {\n          expected: requiredClaims[claim],\n          actual: claims[claim]\n        };\n      }\n    });\n  }\n\n  if (Object.keys(missingClaims).length === 0) {\n    return <>{children}</>;\n  } else {\n    return <>{fallback}</>;\n  }\n}\n\n/**\n * @deprecated Use `useSignInCheck` instead\n *\n * Conditionally render children based on signed-in status and [custom claims](https://firebase.google.com/docs/auth/admin/custom-claims).\n *\n * Meant for Concurrent mode only (`<FirebaseAppProvider suspense=true />`). [More detail](https://github.com/FirebaseExtended/reactfire/issues/325#issuecomment-827654376).\n */\nexport function AuthCheck({ fallback, children, requiredClaims }: AuthCheckProps): JSX.Element {\n  const { data: user } = useUser<firebase.User>();\n\n  const suspenseMode = useSuspenseEnabledFromConfigAndContext();\n  if (!suspenseMode) {\n    console.warn(\n      'AuthCheck is deprecated and only works when ReactFire is in experimental Suspense Mode. Use useSigninCheck or set suspense={true} in FirebaseAppProvider if you want to use this component.'\n    );\n  }\n\n  if (user) {\n    return requiredClaims ? (\n      <ClaimsCheck user={user} fallback={fallback} requiredClaims={requiredClaims}>\n        {children}\n      </ClaimsCheck>\n    ) : (\n      <>{children}</>\n    );\n  } else {\n    return <>{fallback}</>;\n  }\n}\n","import firebase from 'firebase/app';\nimport { list, object, QueryChange, listVal } from 'rxfire/database';\nimport { ReactFireOptions, useObservable, checkIdField, ObservableStatus, ReactFireGlobals } from './';\n\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n// Since we're side-effect free, we need to ensure our observableId cache is global\nconst cachedQueries: Array<firebase.database.Query> = ((globalThis as any) as ReactFireGlobals)._reactFireDatabaseCachedQueries || [];\n\nif (!((globalThis as any) as ReactFireGlobals)._reactFireDatabaseCachedQueries) {\n  ((globalThis as any) as ReactFireGlobals)._reactFireDatabaseCachedQueries = cachedQueries;\n}\n\nfunction getUniqueIdForDatabaseQuery(query: firebase.database.Query) {\n  const index = cachedQueries.findIndex(cachedQuery => cachedQuery.isEqual(query));\n  if (index > -1) {\n    return index;\n  }\n  return cachedQueries.push(query) - 1;\n}\n\n/**\n * Subscribe to a Realtime Database object\n *\n * @param ref - Reference to the DB object you want to listen to\n * @param options\n */\nexport function useDatabaseObject<T = unknown>(ref: firebase.database.Reference, options?: ReactFireOptions<T>): ObservableStatus<QueryChange | T> {\n  const observableId = `database:object:${ref.toString()}`;\n  const observable$ = object(ref);\n\n  return useObservable(observableId, observable$, options);\n}\n\n// ============================================================================\n// TODO: switch to rxfire's objectVal once this PR is merged:\n// https://github.com/firebase/firebase-js-sdk/pull/2352\n\nfunction objectVal<T>(query: firebase.database.Query, keyField?: string): Observable<T> {\n  return object(query).pipe(map(change => changeToData(change, keyField) as T));\n}\n\nfunction changeToData(change: QueryChange, keyField?: string): {} {\n  const val = change.snapshot.val();\n\n  // don't worry about setting IDs if the value is a primitive type\n  if (typeof val !== 'object') {\n    return val;\n  }\n\n  return {\n    ...change.snapshot.val(),\n    ...(keyField ? { [keyField]: change.snapshot.key } : null)\n  };\n}\n// ============================================================================\n\nexport function useDatabaseObjectData<T>(ref: firebase.database.Reference, options?: ReactFireOptions<T>): ObservableStatus<T> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n  const observableId = `database:objectVal:${ref.toString()}:idField=${idField}`;\n  const observable$ = objectVal(ref, idField);\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a Realtime Database list\n *\n * @param ref - Reference to the DB List you want to listen to\n * @param options\n */\nexport function useDatabaseList<T = { [key: string]: unknown }>(\n  ref: firebase.database.Reference | firebase.database.Query,\n  options?: ReactFireOptions<T[]>\n): ObservableStatus<QueryChange[] | T[]> {\n  const hash = `database:list:${getUniqueIdForDatabaseQuery(ref)}`;\n  const observable$ = list(ref);\n\n  return useObservable(hash, observable$, options);\n}\n\nexport function useDatabaseListData<T = { [key: string]: unknown }>(\n  ref: firebase.database.Reference | firebase.database.Query,\n  options?: ReactFireOptions<T[]>\n): ObservableStatus<T[]> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n  const observableId = `database:listVal:${getUniqueIdForDatabaseQuery(ref)}:idField=${idField}`;\n  const observable$ = listVal(ref, idField);\n  return useObservable(observableId, observable$, options);\n}\n","import { empty, Observable, Subject, Subscriber, Subscription } from 'rxjs';\nimport { catchError, shareReplay, tap } from 'rxjs/operators';\n\nexport class SuspenseSubject<T> extends Subject<T> {\n  private _value: T | undefined;\n  private _hasValue = false;\n  private _timeoutHandler: NodeJS.Timeout;\n  private _firstEmission: Promise<void>;\n  private _error: any = undefined;\n  private _innerObservable: Observable<T>;\n  private _warmupSubscription: Subscription;\n\n  // @ts-ignore: TODO: double check to see if this is an RXJS thing or if we should listen to TS\n  private _innerSubscriber: Subscription;\n  // @ts-ignore: TODO: double check to see if this is an RXJS thing or if we should listen to TS\n  private _resolveFirstEmission: () => void;\n\n  constructor(innerObservable: Observable<T>, private _timeoutWindow: number) {\n    super();\n    this._firstEmission = new Promise<void>(resolve => (this._resolveFirstEmission = resolve));\n    this._innerObservable = innerObservable.pipe(\n      tap({\n        next: v => {\n          this._next(v);\n        },\n        error: e => {\n          // save the error, so that we can raise on subscription or .value\n          // resolve the promise, so suspense tries again\n          this._error = e;\n          this._resolveFirstEmission();\n        }\n      }),\n      catchError(() => empty()),\n      shareReplay(1)\n    );\n    // warm up the observable\n    this._warmupSubscription = this._innerObservable.subscribe();\n\n    // set a timeout for resetting the cache, subscriptions will cancel the timeout\n    // and reschedule again on unsubscribe\n    this._timeoutHandler = setTimeout(this._reset.bind(this), this._timeoutWindow);\n  }\n\n  get hasValue(): boolean {\n    // hasValue returns true if there's an error too\n    // so that after we resolve the promise & useObservable is called again\n    // we won't throw again\n    return this._hasValue || !!this._error;\n  }\n\n  get value(): T | undefined {\n    // TODO figure out how to reset the cache here, if I _reset() here before throwing\n    // it doesn't seem to work.\n    // As it is now, this will burn the cache entry until the timeout fires.\n    if (this._error) {\n      throw this._error;\n    }\n    return this._value;\n  }\n\n  get firstEmission(): Promise<void> {\n    return this._firstEmission;\n  }\n\n  private _next(value: T) {\n    this._hasValue = true;\n    this._value = value;\n    this._resolveFirstEmission();\n  }\n\n  private _reset() {\n    // seems to be undefined in tests?\n    if (this._warmupSubscription) {\n      this._warmupSubscription.unsubscribe();\n    }\n    this._hasValue = false;\n    this._value = undefined;\n    this._error = undefined;\n    this._firstEmission = new Promise<void>(resolve => (this._resolveFirstEmission = resolve));\n  }\n\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    if (this._timeoutHandler) {\n      clearTimeout(this._timeoutHandler);\n    }\n    this._innerSubscriber = this._innerObservable.subscribe(subscriber);\n    return this._innerSubscriber;\n  }\n\n  get ourError() {\n    return this._error;\n  }\n}\n","import * as React from 'react';\nimport { Observable } from 'rxjs';\nimport { SuspenseSubject } from './SuspenseSubject';\nimport { useSuspenseEnabledFromConfigAndContext } from './firebaseApp';\nimport { ReactFireGlobals, ReactFireOptions } from './';\n\nconst DEFAULT_TIMEOUT = 30_000;\n\n// Since we're side-effect free, we need to ensure our observable cache is global\nconst preloadedObservables: Map<string, SuspenseSubject<any>> = ((globalThis as any) as ReactFireGlobals)._reactFirePreloadedObservables || new Map();\n\nif (!((globalThis as any) as ReactFireGlobals)._reactFirePreloadedObservables) {\n  ((globalThis as any) as ReactFireGlobals)._reactFirePreloadedObservables = preloadedObservables;\n}\n\n// Starts listening to an Observable.\n// Call this once you know you're going to render a\n// child that will consume the observable\nexport function preloadObservable<T>(source: Observable<T>, id: string) {\n  if (preloadedObservables.has(id)) {\n    return preloadedObservables.get(id) as SuspenseSubject<T>;\n  } else {\n    const observable = new SuspenseSubject(source, DEFAULT_TIMEOUT);\n    preloadedObservables.set(id, observable);\n    return observable;\n  }\n}\n\nexport interface ObservableStatus<T> {\n  /**\n   * The loading status.\n   *\n   * - `loading`: Waiting for the first value from an observable\n   * - `error`: Something went wrong. Check `ObservableStatus.error` for more details\n   * - `success`: The hook has emitted at least one value\n   *\n   * If `initialData` is passed in, this will skip `loading` and go straight to `success`.\n   */\n  status: 'loading' | 'error' | 'success';\n  /**\n   * Indicates whether the hook has emitted a value at some point\n   *\n   * If `initialData` is passed in, this will be `true`.\n   */\n  hasEmitted: boolean; // has received at least one value\n  /**\n   * If this is `true`, the hook will be emitting no further items.\n   */\n  isComplete: boolean;\n  /**\n   * The most recent value.\n   *\n   * If `initialData` is passed in, the first value of `data` will be the valuea provided in `initialData` **UNLESS** the underlying observable is ready, in which case it will skip `initialData`.\n   */\n  data: T;\n  /**\n   * Any error that may have occurred in the underlying observable\n   */\n  error: Error | undefined;\n  /**\n   * Promise that resolves after first emit from observable\n   */\n  firstValuePromise: Promise<void>;\n}\n\nexport function useObservable<T>(observableId: string, source: Observable<T | any>, config: ReactFireOptions = {}): ObservableStatus<T> {\n  if (!observableId) {\n    throw new Error('cannot call useObservable without an observableId');\n  }\n  const observable = preloadObservable(source, observableId);\n\n  const hasInitialData = config.hasOwnProperty('initialData') || config.hasOwnProperty('startWithValue');\n\n  const suspenseEnabled = useSuspenseEnabledFromConfigAndContext(config.suspense);\n\n  if (suspenseEnabled === true && !observable.hasValue && (!config?.initialData ?? !config?.startWithValue)) {\n    throw observable.firstEmission;\n  }\n\n  const [latest, setValue] = React.useState(() => (observable.hasValue ? observable.value : config.initialData ?? config.startWithValue));\n  const [isComplete, setIsComplete] = React.useState(false);\n  const [hasError, setHasError] = React.useState(false);\n  React.useEffect(() => {\n    const subscription = observable.subscribe({\n      next: v => {\n        setValue(() => v);\n      },\n      error: e => {\n        setHasError(true);\n        throw e;\n      },\n      complete: () => {\n        setIsComplete(true);\n      }\n    });\n    return () => subscription.unsubscribe();\n  }, [observable]);\n\n  let status: ObservableStatus<T>['status'];\n\n  if (hasError) {\n    status = 'error';\n  } else if (observable.hasValue || hasInitialData) {\n    status = 'success';\n  } else {\n    status = 'loading';\n  }\n\n  return {\n    status,\n    hasEmitted: observable.hasValue || hasInitialData,\n    isComplete: isComplete,\n    data: latest,\n    error: observable.ourError,\n    firstValuePromise: observable.firstEmission\n  };\n}\n","import firebase from 'firebase/app';\nimport { collectionData, doc, docData, fromCollectionRef } from 'rxfire/firestore';\nimport { preloadFirestore, ReactFireOptions, useObservable, checkIdField, ReactFireGlobals } from './';\nimport { preloadObservable, ObservableStatus } from './useObservable';\nimport { first } from 'rxjs/operators';\n\n// Since we're side-effect free, we need to ensure our observableId cache is global\nconst cachedQueries: Array<firebase.firestore.Query> = ((globalThis as any) as ReactFireGlobals)._reactFireFirestoreQueryCache || [];\n\nif (!((globalThis as any) as ReactFireGlobals)._reactFireFirestoreQueryCache) {\n  ((globalThis as any) as ReactFireGlobals)._reactFireFirestoreQueryCache = cachedQueries;\n}\n\nfunction getUniqueIdForFirestoreQuery(query: firebase.firestore.Query) {\n  const index = cachedQueries.findIndex(cachedQuery => cachedQuery.isEqual(query));\n  if (index > -1) {\n    return index;\n  }\n  return cachedQueries.push(query) - 1;\n}\n\n// starts a request for a firestore doc.\n// imports the firestore SDK automatically\n// if it hasn't been imported yet.\n//\n// there's a decent chance this gets called before the Firestore SDK\n// has been imported, so it takes a refProvider instead of a ref\nexport function preloadFirestoreDoc(\n  refProvider: (firestore: firebase.firestore.Firestore) => firebase.firestore.DocumentReference,\n  options: { firebaseApp: firebase.app.App }\n) {\n  const firebaseApp = options.firebaseApp;\n\n  return preloadFirestore({ firebaseApp }).then(firestore => {\n    const ref = refProvider(firestore());\n    return preloadObservable(doc(ref), `firestore:doc:${firebaseApp.name}:${ref.path}`);\n  });\n}\n\n/**\n * Suscribe to Firestore Document changes\n *\n * @param ref - Reference to the document you want to listen to\n * @param options\n */\nexport function useFirestoreDoc<T = firebase.firestore.DocumentData>(\n  ref: firebase.firestore.DocumentReference,\n  options?: ReactFireOptions<T>\n): ObservableStatus<firebase.firestore.DocumentSnapshot<T>> {\n  const observableId = `firestore:doc:${ref.firestore.app.name}:${ref.path}`;\n  const observable$ = doc(ref);\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Get a firestore document and don't subscribe to changes\n *\n * @param ref - Reference to the document you want to get\n * @param options\n */\nexport function useFirestoreDocOnce<T = unknown>(\n  ref: firebase.firestore.DocumentReference,\n  options?: ReactFireOptions<T>\n): ObservableStatus<T extends {} ? T : firebase.firestore.DocumentSnapshot> {\n  const observableId = `firestore:docOnce:${ref.firestore.app.name}:${ref.path}`;\n  const observable$ = doc(ref).pipe(first());\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Suscribe to Firestore Document changes\n *\n * @param ref - Reference to the document you want to listen to\n * @param options\n */\nexport function useFirestoreDocData<T>(ref: firebase.firestore.DocumentReference, options?: ReactFireOptions<T>): ObservableStatus<T> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n\n  const observableId = `firestore:docData:${ref.firestore.app.name}:${ref.path}:idField=${idField}`;\n  const observable = docData(ref, idField);\n\n  return useObservable(observableId, observable, options);\n}\n\n/**\n * Get a firestore document and don't subscribe to changes\n *\n * @param ref - Reference to the document you want to get\n * @param options\n */\nexport function useFirestoreDocDataOnce<T = unknown>(ref: firebase.firestore.DocumentReference, options?: ReactFireOptions<T>): ObservableStatus<T> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n\n  const observableId = `firestore:docDataOnce:${ref.firestore.app.name}:${ref.path}:idField=${idField}`;\n  const observable$ = docData(ref, idField).pipe(first());\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a Firestore collection\n *\n * @param ref - Reference to the collection you want to listen to\n * @param options\n */\nexport function useFirestoreCollection<T = firebase.firestore.DocumentData>(\n  query: firebase.firestore.Query,\n  options?: ReactFireOptions<T[]>\n): ObservableStatus<firebase.firestore.QuerySnapshot<T>> {\n  const observableId = `firestore:collection:${getUniqueIdForFirestoreQuery(query)}`;\n  const observable$ = fromCollectionRef(query);\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a Firestore collection and unwrap the snapshot.\n *\n * @param ref - Reference to the collection you want to listen to\n * @param options\n */\nexport function useFirestoreCollectionData<T = { [key: string]: unknown }>(\n  query: firebase.firestore.Query,\n  options?: ReactFireOptions<T[]>\n): ObservableStatus<T[]> {\n  const idField = options ? checkIdField(options) : 'NO_ID_FIELD';\n  const observableId = `firestore:collectionData:${getUniqueIdForFirestoreQuery(query)}:idField=${idField}`;\n  const observable$ = collectionData(query, idField);\n\n  return useObservable(observableId, observable$, options);\n}\n","import * as React from 'react';\nimport { preloadPerformance } from './';\nimport { useFirebaseApp } from './firebaseApp';\n\nexport interface SuspensePerfProps {\n  children: React.ReactNode;\n  traceId: string;\n  fallback: React.ReactNode;\n  firePerf?: import('firebase/app').default.performance.Performance;\n}\n\nexport function SuspenseWithPerf({ children, traceId, fallback, firePerf }: SuspensePerfProps): JSX.Element {\n  const firebaseApp = useFirebaseApp();\n\n  if (!firePerf) {\n    preloadPerformance({ firebaseApp }).then(perf => perf());\n  }\n\n  const entries = performance?.getEntriesByName?.(traceId, 'measure') || [];\n  const startMarkName = `_${traceId}Start[${entries.length}]`;\n  const endMarkName = `_${traceId}End[${entries.length}]`;\n\n  const Fallback = () => {\n    React.useLayoutEffect(() => {\n      performance?.mark?.(startMarkName);\n\n      return () => {\n        performance?.mark?.(endMarkName);\n        performance?.measure?.(traceId, startMarkName, endMarkName);\n      };\n    }, []);\n\n    return <>{fallback}</>;\n  };\n\n  return <React.Suspense fallback={<Fallback />}>{children}</React.Suspense>;\n}\n","import { Observable } from 'rxjs';\n\ntype RemoteConfig = import('firebase/app').default.remoteConfig.RemoteConfig;\ntype RemoteConfigValue = import('firebase/app').default.remoteConfig.Value;\n\nexport type AllParameters = {\n  [key: string]: RemoteConfigValue;\n};\n\ninterface ParameterSettings<T> {\n  remoteConfig: RemoteConfig;\n  key: string;\n  getter: (key: string) => T;\n}\n\n// TODO(davideast): Replace with RxFire functions when they land\nfunction parameter$<T>({ remoteConfig, key, getter }: ParameterSettings<T>): Observable<T> {\n  return new Observable(subscriber => {\n    remoteConfig.ensureInitialized().then(() => {\n      // 'this' for the getter loses context in the next()\n      // call, so it needs to be bound.\n      subscriber.next(getter.bind(remoteConfig)(key));\n    });\n  });\n}\n\nexport function getValue(remoteConfig: RemoteConfig, key: string) {\n  const getter = remoteConfig.getValue;\n  return parameter$({ remoteConfig, key, getter });\n}\n\nexport function getString(remoteConfig: RemoteConfig, key: string) {\n  const getter = remoteConfig.getString;\n  return parameter$<string>({ remoteConfig, key, getter });\n}\n\nexport function getNumber(remoteConfig: RemoteConfig, key: string) {\n  const getter = remoteConfig.getNumber;\n  return parameter$<number>({ remoteConfig, key, getter });\n}\n\nexport function getBoolean(remoteConfig: RemoteConfig, key: string) {\n  const getter = remoteConfig.getBoolean;\n  return parameter$<boolean>({ remoteConfig, key, getter });\n}\n\nexport function getAll(remoteConfig: RemoteConfig) {\n  const getter = remoteConfig.getAll;\n  // No key is needed for getAll()\n  return parameter$<AllParameters>({ remoteConfig, key: '', getter });\n}\n","import { useRemoteConfig } from '../firebaseApp';\nimport { useObservable, ObservableStatus } from '../useObservable';\nimport { getValue, getString, getBoolean, getNumber, getAll, AllParameters } from './getValue';\nimport { Observable } from 'rxjs';\n\ntype RemoteConfig = import('firebase/app').default.remoteConfig.RemoteConfig;\ntype RemoteConfigValue = import('firebase/app').default.remoteConfig.Value;\ntype Getter$<T> = (remoteConfig: RemoteConfig, key: string) => Observable<T>;\n\ninterface RemoteConfigWithPrivate extends RemoteConfig {\n  // This is a private API, assume optional\n  _storage?: { appName: string };\n}\n\n/**\n * Helper function to construct type safe functions. Since Remote Config has\n * methods that return different types for values, we need to be extra safe\n * to make sure we are not returning improper types by accident.\n * @param key\n * @param getter\n * @param remoteConfig\n */\nfunction useRemoteConfigValue_INTERNAL<T>(key: string, getter: Getter$<T>): ObservableStatus<T> {\n  const remoteConfig = useRemoteConfig();\n\n  // INVESTIGATE need to use a public API to get at the app name, one doesn't appear to exist...\n  // we might need to iterate over the Firebase apps and check for remoteConfig equality? this works for now\n  const appName = (remoteConfig as RemoteConfigWithPrivate)._storage?.appName;\n  const $value = getter(remoteConfig, key);\n\n  const observableId = `remoteConfig:${key}:${getter.name}:${appName}`;\n  return useObservable<T>(observableId, $value);\n}\n\n/**\n * Accepts a key and optionally a Remote Config instance. Returns a\n * Remote Config Value.\n *\n * @param key The parameter key in Remote Config\n * @param remoteConfig Optional instance. If not provided ReactFire will either grab the default instance or lazy load.\n */\nexport function useRemoteConfigValue(key: string): ObservableStatus<RemoteConfigValue> {\n  return useRemoteConfigValue_INTERNAL<RemoteConfigValue>(key, getValue);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns a `string` from a Remote Config parameter.\n * @param key The parameter key in Remote Config\n * @param remoteConfig Optional instance. If not provided ReactFire will either grab the default instance or lazy load.\n */\nexport function useRemoteConfigString(key: string): ObservableStatus<string> {\n  return useRemoteConfigValue_INTERNAL<string>(key, getString);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns a `number` from a Remote Config parameter.\n * @param key The parameter key in Remote Config\n * @param remoteConfig Optional instance. If not provided ReactFire will either grab the default instance or lazy load.\n */\nexport function useRemoteConfigNumber(key: string): ObservableStatus<number> {\n  return useRemoteConfigValue_INTERNAL<number>(key, getNumber);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns a `boolean` from a Remote Config parameter.\n * @param key The parameter key in Remote Config\n * @param remoteConfig Optional instance. If not provided ReactFire will either grab the default instance or lazy load.\n */\nexport function useRemoteConfigBoolean(key: string): ObservableStatus<boolean> {\n  return useRemoteConfigValue_INTERNAL<boolean>(key, getBoolean);\n}\n\n/**\n * Convience method similar to useRemoteConfigValue. Returns allRemote Config parameters.\n * @param key The parameter key in Remote Config\n * @param remoteConfig Optional instance. If not provided ReactFire will either grab the default instance or lazy load.\n */\nexport function useRemoteConfigAll(key: string): ObservableStatus<AllParameters> {\n  return useRemoteConfigValue_INTERNAL<AllParameters>(key, getAll);\n}\n","import firebase from 'firebase/app';\nimport * as React from 'react';\nimport { getDownloadURL } from 'rxfire/storage';\nimport { Observable } from 'rxjs';\nimport { ReactFireOptions, useObservable, ObservableStatus } from './';\nimport { useStorage, useSuspenseEnabledFromConfigAndContext } from './firebaseApp';\n\n/**\n * modified version of rxFire's _fromTask\n *\n * @param task\n */\nfunction _fromTask(task: firebase.storage.UploadTask) {\n  return new Observable<firebase.storage.UploadTaskSnapshot>(subscriber => {\n    const progress = (snap: firebase.storage.UploadTaskSnapshot) => {\n      return subscriber.next(snap);\n    };\n    const error = (e: any) => subscriber.error(e);\n    const complete = () => {\n      return subscriber.complete();\n    };\n    task.on('state_changed', progress, error, complete);\n\n    // I REMOVED THE UNSUBSCRIBE RETURN BECAUSE IT CANCELS THE UPLOAD\n    // https://github.com/firebase/firebase-js-sdk/issues/1659\n  });\n}\n\n/**\n * Subscribe to the progress of a storage task\n *\n * @param task - the task you want to listen to\n * @param ref - reference to the blob the task is acting on\n * @param options\n */\nexport function useStorageTask<T = unknown>(\n  task: firebase.storage.UploadTask,\n  ref: firebase.storage.Reference,\n  options?: ReactFireOptions<T>\n): ObservableStatus<firebase.storage.UploadTaskSnapshot | T> {\n  const observableId = `storage:task:${ref.toString()}`;\n  const observable$ = _fromTask(task);\n\n  return useObservable(observableId, observable$, options);\n}\n\n/**\n * Subscribe to a storage ref's download URL\n *\n * @param ref - reference to the blob you want to download\n * @param options\n */\nexport function useStorageDownloadURL<T = string>(ref: firebase.storage.Reference, options?: ReactFireOptions<T>): ObservableStatus<string | T> {\n  const observableId = `storage:downloadUrl:${ref.toString()}`;\n  const observable$ = getDownloadURL(ref);\n\n  return useObservable(observableId, observable$, options);\n}\n\ntype StorageImageProps = {\n  storagePath: string;\n  storage?: firebase.storage.Storage;\n  suspense?: boolean;\n  placeHolder?: JSX.Element;\n};\n\nfunction StorageFromContext(props: StorageImageProps & React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>) {\n  const storage = useStorage();\n\n  props = { ...props, storage };\n\n  return <INTERNALStorageImage {...props} />;\n}\n\nfunction INTERNALStorageImage(props: StorageImageProps & React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>): JSX.Element {\n  let { storage, storagePath, suspense, placeHolder, ...imgProps } = props;\n\n  const reactfireOptions: ReactFireOptions<string> = {\n    suspense: useSuspenseEnabledFromConfigAndContext(suspense)\n  };\n\n  if (!storage) {\n    throw new Error('Storage was not passed to component INTERNALStorageImage. This should not be possible');\n  }\n\n  const { status, data: imgSrc } = useStorageDownloadURL(storage.ref(storagePath), reactfireOptions);\n\n  if (status === 'success') {\n    if (!(imgProps.alt || imgProps.alt === '')) {\n      console.warn(\n        `No alt prop provided for StorageImage with storagePath \"${storagePath}\"`,\n        'img elements must have an alt prop, either with meaningful text, or an empty string for decorative images'\n      );\n    }\n\n    return <img src={imgSrc} alt={imgProps.alt} {...imgProps} />;\n  } else {\n    return placeHolder ?? <>''</>;\n  }\n}\n\nexport function StorageImage(props: StorageImageProps & React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>) {\n  let { storage } = props;\n\n  if (storage) {\n    return <INTERNALStorageImage {...props} />;\n  } else {\n    return <StorageFromContext {...props} />;\n  }\n}\n","import firebase from 'firebase/app';\nimport { SuspenseSubject } from './SuspenseSubject';\n\nexport type ReactFireGlobals = {\n  _reactFireDatabaseCachedQueries: Array<firebase.database.Query>;\n  _reactFireFirestoreQueryCache: Array<firebase.firestore.Query>;\n  _reactFirePreloadedObservables: Map<string, SuspenseSubject<any>>;\n};\n\nexport class ReactFireError extends Error {\n  readonly name = 'ReactFireError';\n\n  constructor(readonly code: string, message: string, public customData?: Record<string, unknown>) {\n    super(message);\n\n    // Fix For ES5\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, ReactFireError.prototype);\n  }\n}\n\nexport interface ReactFireOptions<T = unknown> {\n  idField?: string;\n  initialData?: T | any;\n  /**\n   * @deprecated use initialData instead\n   */\n  startWithValue?: T | any;\n  suspense?: boolean;\n}\n\nexport function checkOptions(options: ReactFireOptions, field: string) {\n  // make sure the field passed in is a valid key of ReactFire Options\n  if (field === 'idField' || field === 'initialData' || field === 'suspense') {\n    return options ? (options[field] as ReactFireOptions['idField'] | ReactFireOptions['initialData'] | ReactFireOptions['suspense']) : undefined;\n  }\n\n  throw new Error(`Field \"${field}\" is not a valid key in ReactFireOptions`);\n}\n\nexport function checkinitialData(options: ReactFireOptions) {\n  return checkOptions(options, 'initialData');\n}\n\nexport function checkIdField(options: ReactFireOptions) {\n  return checkOptions(options, 'idField');\n}\n\nexport * from './auth';\nexport * from './database';\nexport * from './firebaseApp';\nexport * from './firestore';\nexport * from './performance';\nexport * from './remote-config';\nexport * from './storage';\nexport * from './useObservable';\n"],"names":["undefined","importSDK","sdk","proxyComponent","componentName","contextualApp","useComponent","app","suspense","useFirebaseApp","firebaseApp","suspenseEnabled","useSuspenseEnabledFromConfigAndContext","sdkSubject","preload","hasValue","firebase","firstEmission","Error","charAt","toUpperCase","slice","Proxy","get","target","p","apply","_this","args","component","bind","useAuth","useAnalytics","useDatabase","useFirestore","useFunctions","useMessaging","usePerformance","useRemoteConfig","useStorage","preloadFactory","options","setup","toPromise","settingsCallback","preloadObservable","Observable","emitter","then","instanceFactory","Promise","resolve","next","complete","e","error","name","preloadAuth","preloadAnalytics","preloadDatabase","preloadFirestore","preloadFunctions","preloadMessaging","preloadPerformance","preloadRemoteConfig","preloadStorage","DEFAULT_APP_NAME","FirebaseAppContext","React","SuspenseEnabledContext","version","shallowEq","a","b","Object","keys","every","key","FirebaseAppProvider","props","firebaseConfig","appName","existingApp","apps","find","reactVersion","registerVersion","initializeApp","Provider","value","useIsSuspenseEnabled","suspenseFromConfig","suspenseFromContext","preloadUser","auth","result","user","useUser","observableId","observable$","currentUser","initialData","startWithValue","useObservable","useIdTokenResult","forceRefresh","uid","from","getIdTokenResult","useSigninCheck","hasOwnProperty","JSON","stringify","requiredClaims","validateCustomClaims","observable","pipe","switchMap","of","signedIn","hasRequiredClaims","map","idTokenResult","validator","getClaimsObjectValidator","claims","errors","claimsObjectValidator","userClaims","forEach","claim","ReactFireError","length","ClaimsCheck","fallback","children","data","missingClaims","suspenseMode","console","warn","expected","actual","AuthCheck","cachedQueries","globalThis","_reactFireDatabaseCachedQueries","getUniqueIdForDatabaseQuery","query","index","findIndex","cachedQuery","isEqual","push","useDatabaseObject","ref","toString","object","objectVal","keyField","change","changeToData","val","snapshot","useDatabaseObjectData","idField","checkIdField","useDatabaseList","hash","list","useDatabaseListData","listVal","SuspenseSubject","innerObservable","_timeoutWindow","_value","_hasValue","_timeoutHandler","_firstEmission","_error","_innerObservable","_warmupSubscription","_innerSubscriber","_resolveFirstEmission","tap","v","_next","catchError","empty","shareReplay","subscribe","setTimeout","_reset","unsubscribe","_subscribe","subscriber","clearTimeout","Subject","DEFAULT_TIMEOUT","preloadedObservables","_reactFirePreloadedObservables","Map","source","id","has","set","config","hasInitialData","latest","setValue","isComplete","setIsComplete","hasError","setHasError","subscription","status","hasEmitted","ourError","firstValuePromise","_reactFireFirestoreQueryCache","getUniqueIdForFirestoreQuery","preloadFirestoreDoc","refProvider","firestore","doc","path","useFirestoreDoc","useFirestoreDocOnce","first","useFirestoreDocData","docData","useFirestoreDocDataOnce","useFirestoreCollection","fromCollectionRef","useFirestoreCollectionData","collectionData","SuspenseWithPerf","traceId","firePerf","perf","entries","performance","getEntriesByName","startMarkName","endMarkName","Fallback","mark","measure","parameter$","remoteConfig","getter","ensureInitialized","getValue","getString","getNumber","getBoolean","getAll","useRemoteConfigValue_INTERNAL","_storage","$value","useRemoteConfigValue","useRemoteConfigString","useRemoteConfigNumber","useRemoteConfigBoolean","useRemoteConfigAll","_fromTask","task","progress","snap","on","useStorageTask","useStorageDownloadURL","getDownloadURL","StorageFromContext","storage","INTERNALStorageImage","storagePath","placeHolder","imgProps","reactfireOptions","imgSrc","alt","src","StorageImage","code","message","customData","setPrototypeOf","prototype","checkOptions","field","checkinitialData"],"mappings":"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"}